<!DOCTYPE html>
<html lang="en">

<head>
    {{> head}}
</head>

<body>
    {{> header active_products=true}}

    {{!-- <div class="breadcrumb">
        <div class="container">
            <a class="breadcrumb-item" href="index">Home</a>
            <span class="breadcrumb-item active">Products</span>
        </div>
    </div> --}}
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"> <a class="breadcrumb-item" href="index">Home</a> </li>
                <li class="breadcrumb-item active" aria-current="page">Products</li>
            </ol>
        </nav>
    </div>

    <section class="static about-sec">
        <div class="container">
            <div class="row" style="margin-bottom: 50px;">
                <p class="fs-2 fw-bold col-10">Recently added books to our store</p>
                <div class="dropdown col-2">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Sort
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item"
                                href="?sort=1{{#if hasCategory}}&category={{category}}{{/if}}">Price increased
                                gradually</a></li>
                        <li><a class="dropdown-item"
                                href="?sort=-1{{#if hasCategory}}&category={{category}}{{/if}}">Price decreased
                                gradually</a></li>
                    </ul>
                </div>
            </div>

            {{!-- <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Dropdown button
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
            </div> --}}

            <div class="row">
                <div class="col-2">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <h3>Category</h3>
                        </li>
                        {{#each category_list}}
                        <li class="list-group-item"><a href="/products?category={{_id}}">{{name}}</a></li>
                        {{/each}}
                    </ul>
                </div>
                <div class="col-1"></div>
                <div class="col-9">
                    <div class="recommended-sec">

                        <div class="row">
                            {{#each book}}
                            {{> item book=this}}
                            {{/each}}
                        </div>
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center">
                            <li class="page-item {{#if isFirstPage}}disabled{{/if}}">
                                <a class="page-link"
                                    href="?page=1{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}"
                                    tabindex="-1" aria-disabled="true">First</a>
                            </li>

                            {{#if hasPrevPage}}
                            <li class="page-item">
                                <a class="page-link"
                                    href="?page={{prevPage}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}"
                                    tabindex="-1">Previous</a>
                            </li>
                            {{else}}
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                            </li>
                            {{/if}}

                            {{#if hasPrevPrevPage}}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{prevPrevPage}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}">{{prevPrevPage}}</a>
                            </li>
                            {{/if}}

                            {{#if hasPrevPage}}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{prevPage}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}">{{prevPage}}</a>
                            </li>
                            {{/if}}


                            <li class="page-item active"><a class="page-link"
                                    href="?page={{page}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}">{{page}}</a>
                            </li>

                            {{#if hasNextPage}}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{nextPage}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}">{{nextPage}}</a>
                            </li>
                            {{/if}}

                            {{#if hasNextNextPage}}
                            <li class="page-item"><a class="page-link"
                                    href="?page={{nextNextPage}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}">{{nextNextPage}}</a>
                            </li>
                            {{/if}}

                            {{#if hasNextPage}}
                            <li class="page-item">
                                <a class="page-link"
                                    href="?page={{nextPage}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}"
                                    tabindex="-1">Next</a>
                            </li>
                            {{else}}
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Next</a>
                            </li>
                            {{/if}}
                            <li class="page-item {{#if isLastPage}}disabled{{/if}}">
                                <a class="page-link"
                                    href="?page={{totalPages}}{{#if hasSort}}&sort={{sort_value}}{{/if}}{{#if hasCategory}}&category={{category}}{{/if}}"
                                    tabindex="-1" aria-disabled="true">Last</a>
                            </li>

                        </ul>
                    </nav>


                </div>
            </div>
        </div>

        </div>
    </section>

    {{> footer}}

    {{> importJS}}
</body>

</html>